<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>PO System</title>
        <link rel="stylesheet" href="style.css">
        <script>
            function openTab(event, tabName){
                var i, tabcontent, tablinks;

                // hide unused tabs
                tabcontent = document.getElementsByClassName("tabcontent");
                for (i = 0; i < tabcontent.length; i++) {
                    tabcontent[i].style.display = "none";
                }

                tablinks = document.getElementsByClassName("tablinks");
                for (i = 0; i < tablinks.length; i++) {
                    tablinks[i].className = tablinks[i].className.replace("active", "");
                }

                // Display current tab
                document.getElementById(tabName).style.display = "block";
                event.currentTarget.className += "active";

                if (tabName == "addOrder"){
                    getVendors();
                }
            }

            function getVendors(){
                var ven = document.getElementById("vendSelect");
                ven.innerHTML = '';
                var x = document.createElement("option")
                x.textContent = " ";
                ven.appendChild(x);
                // TODO: Insert Database functionality, replace this demo
                /*
                // THIS IS PSEUDOCODE, PLEASE REVIEW IT BEFORE YOU UNCOMMENT THIS AND CALL IT A DAY. It should go something like this though, if I know what I'm doing.
                for(var i = 0; i < vendVals.length; i++) { // import vendVals from database, through index.js
                    var vendor = vendVals[i];
                    var element = document.createElement("option");
                    element.textContent = vendor["name"];
                    element.value = vendor["ID"];
                    ven.appendChild(element);
                }
                */
               var arr = [["Initech", 1], ["Falconghini", 2], ["Aperture Science", 3]];
               for (var i = 0; i < arr.length; i++) {
                   var name = arr[i][0];
                   var ID = arr[i][1];
                   var element = document.createElement("option");
                   element.textContent = name;
                   element.value = ID;
                   ven.appendChild(element);
               }
            }
        </script>
    </head>
    <body>
        <h1>Buchanan County Purchase Orders</h1>
        <p>I want to...</p>
        <div class="tab">
            <button class="tablinks" onclick="openTab(event, 'addOrder')" id="default">Add Order</button>
            <button class="tablinks" onclick="openTab(event, 'editOrder')">Edit Order</button>
            <button class="tablinks" onclick="openTab(event, 'createReports')">Create Reports</button>
        </div>

        <!--TODO: Update this section to have functionality-->
        <div id="addOrder" class="tabcontent">
            <h2>Add Order</h2>
            <!--Orders will contain an Order ID, likely generated by the database as a primary key-->
            <p class=faded><i>Order IDs will be generated, and likely not displayed on this page</i></p>
            <!--Orders will contain a User ID, that will be entered without user input. A login will be required to reach this page, and that value will be passed-->
            <p class=faded><i>Every user has a unique ID, that will be obtained upon their login. Again, that informaiton will likely <b>not</b> be displayed here</i></p>
            <!--Vendor-->
            <label for="vendSelect">Select a Vendor: </label>
            <select class="form-control" id="vendSelect" onchange="getItems()"></select>
        </div>
        <div id="editOrder" class="tabcontent">
            <h2>Edit Existing Order</h2>
        </div>
        <div id="createReports" class="tabcontent">
            <h2>Generate Reports</h2>
        </div>
        <p class="faded"><strong><i>Copyright 2020 Skittle-Dew. All Rights Reserved.</i></strong></p>
        <script>
            document.getElementById("default").click();
        </script>
    </body>
</html>